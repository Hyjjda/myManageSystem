import{c as Z,bd as S,s as T,a as E,b as J,i as w,d as Q,_ as X,e as _,u as x,q as d,p as ee,w as F,H as ae,o as a,g as u,Y as N,aL as ie,k as i,m as v,l as h,h as c,j as p,r as y,E as f,T as l,aj as V,v as te,bg as ne,n as se,Z as oe,as as le,t as ce,N as re,bh as K,D as ue}from"./index-C0YSzdoM.js";import{u as ve}from"./aria-Cl9uGz3Y.js";import{I as C,C as P,U as B,d as de,t as pe}from"./event-DYMifAw6.js";import{u as fe,a as me}from"./el-button-CTMz-c1B.js";import{u as he,a as ye}from"./use-form-common-props-DGImsqfa.js";const be=s=>["",...Z].includes(s),ke=J({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:void 0},loading:Boolean,size:{type:String,validator:be},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:w},activeActionIcon:{type:w},activeIcon:{type:w},inactiveIcon:{type:w},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Q(Function)},id:String,tabindex:{type:[String,Number]},...ve(["ariaLabel"])}),Ie={[B]:s=>S(s)||T(s)||E(s),[P]:s=>S(s)||T(s)||E(s),[C]:s=>S(s)||T(s)||E(s)},ge=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex"],we=["aria-hidden"],Ve={key:1},Se={key:1},Te=["aria-hidden"],L="ElSwitch",Ee=_({name:L,__name:"switch",props:ke,emits:Ie,setup(s,{expose:M,emit:O}){const n=s,m=O,{formItem:k}=fe(),U=he(),t=x("switch"),{inputId:j}=me(n,{formItemContext:k}),I=ye(d(()=>{if(n.loading)return!0})),A=ee(n.modelValue!==!1),b=le(),H=d(()=>[t.b(),t.m(U.value),t.is("disabled",I.value),t.is("checked",o.value)]),R=d(()=>[t.e("label"),t.em("label","left"),t.is("active",!o.value)]),q=d(()=>[t.e("label"),t.em("label","right"),t.is("active",o.value)]),G=d(()=>({width:ce(n.width)}));F(()=>n.modelValue,()=>{A.value=!0});const $=d(()=>A.value?n.modelValue:!1),o=d(()=>$.value===n.activeValue);[n.activeValue,n.inactiveValue].includes($.value)||(m(B,n.inactiveValue),m(P,n.inactiveValue),m(C,n.inactiveValue)),F(o,e=>{var r;b.value.checked=e,n.validateEvent&&((r=k?.validate)==null||r.call(k,"change").catch(Y=>de()))});const g=()=>{const e=o.value?n.inactiveValue:n.activeValue;m(B,e),m(P,e),m(C,e),re(()=>{b.value.checked=o.value})},z=()=>{if(I.value)return;const{beforeChange:e}=n;if(!e){g();return}const r=e();[K(r),S(r)].includes(!0)||pe(L,"beforeChange must return type `Promise<boolean>` or `boolean`"),K(r)?r.then(D=>{D&&g()}).catch(D=>{}):r&&g()},W=()=>{var e,r;(r=(e=b.value)==null?void 0:e.focus)==null||r.call(e)};return ae(()=>{b.value.checked=o.value}),M({focus:W,checked:o}),(e,r)=>(a(),u("div",{class:v(H.value),onClick:oe(z,["prevent"])},[N("input",{id:i(j),ref_key:"input",ref:b,class:v(i(t).e("input")),type:"checkbox",role:"switch","aria-checked":o.value,"aria-disabled":i(I),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:i(I),tabindex:e.tabindex,onChange:g,onKeydown:ie(z,["enter"])},null,42,ge),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText||e.$slots.inactive)?(a(),u("span",{key:0,class:v(R.value)},[h(e.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),c(i(f),{key:0},{default:p(()=>[(a(),c(y(e.inactiveIcon)))]),_:1})):l("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),u("span",{key:1,"aria-hidden":o.value},V(e.inactiveText),9,we)):l("v-if",!0)])],2)):l("v-if",!0),N("span",{class:v(i(t).e("core")),style:se(G.value)},[e.inlinePrompt?(a(),u("div",{key:0,class:v(i(t).e("inner"))},[o.value?(a(),u("div",{key:1,class:v(i(t).e("inner-wrapper"))},[h(e.$slots,"active",{},()=>[e.activeIcon?(a(),c(i(f),{key:0},{default:p(()=>[(a(),c(y(e.activeIcon)))]),_:1})):l("v-if",!0),!e.activeIcon&&e.activeText?(a(),u("span",Se,V(e.activeText),1)):l("v-if",!0)])],2)):(a(),u("div",{key:0,class:v(i(t).e("inner-wrapper"))},[h(e.$slots,"inactive",{},()=>[e.inactiveIcon?(a(),c(i(f),{key:0},{default:p(()=>[(a(),c(y(e.inactiveIcon)))]),_:1})):l("v-if",!0),!e.inactiveIcon&&e.inactiveText?(a(),u("span",Ve,V(e.inactiveText),1)):l("v-if",!0)])],2))],2)):l("v-if",!0),N("div",{class:v(i(t).e("action"))},[e.loading?(a(),c(i(f),{key:0,class:v(i(t).is("loading"))},{default:p(()=>[te(i(ne))]),_:1},8,["class"])):o.value?h(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(a(),c(i(f),{key:0},{default:p(()=>[(a(),c(y(e.activeActionIcon)))]),_:1})):l("v-if",!0)]):o.value?l("v-if",!0):h(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(a(),c(i(f),{key:0},{default:p(()=>[(a(),c(y(e.inactiveActionIcon)))]),_:1})):l("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText||e.$slots.active)?(a(),u("span",{key:1,class:v(q.value)},[h(e.$slots,"active",{},()=>[e.activeIcon?(a(),c(i(f),{key:0},{default:p(()=>[(a(),c(y(e.activeIcon)))]),_:1})):l("v-if",!0),!e.activeIcon&&e.activeText?(a(),u("span",{key:1,"aria-hidden":!o.value},V(e.activeText),9,Te)):l("v-if",!0)])],2)):l("v-if",!0)],2))}});var Ne=X(Ee,[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]);const ze=ue(Ne);export{ze as E};
