import"./base-ViztKN45.js";import{v as j}from"./el-loading-CzTwtzOU.js";import{a as I,b as L,E as A}from"./el-table-column-BBO3a5M-.js";import"./el-tag-CzaBJyrM.js";import"./el-select-CZWxLfJ5.js";import"./el-scrollbar-4E6cCh5w.js";import"./el-popper-CyS72pHA.js";import{E as F}from"./el-input-D-02Qznu.js";import"./el-checkbox-CuP0MMfy.js";/* empty css                   *//* empty css                   */import{E as H,a as Y}from"./el-timeline-item-D3VjOw6n.js";import{E as $}from"./el-card-tD9eT-br.js";import{E as q,a as G}from"./el-col-Bi6DIMnx.js";import{E as J}from"./el-button-CTMz-c1B.js";import{u as K}from"./useHttp-Qilkyp6n.js";import{E as M}from"./index-y1ecsxO1.js";import{e as O,g,v as e,j as t,$ as b,k as l,z as c,a6 as Q,h as E,aw as W,Y as C,aj as _,p as X,o as m}from"./index-C0YSzdoM.js";import"./typescript-Bp3YSIOJ.js";import"./event-DYMifAw6.js";import"./isArrayLikeObject-6WTalTKa.js";import"./aria-Cl9uGz3Y.js";import"./omit-CMBK0oSN.js";import"./debounce-DQ2yIMUC.js";import"./raf-07j3bqRV.js";import"./use-form-common-props-DGImsqfa.js";import"./index-WcL-sAz5.js";import"./index-AkxRptXk.js";import"./_baseFindIndex-D7XfJLKM.js";import"./vnode-4RZoeRcS.js";import"./dropdown-DAIVf9il.js";const Pe=O({__name:"Vip",setup(Z){const r=X({no:"",tel:"",name:""}),{dataList:v,loading:h,loadData:V,totals:z,pageInfo:p,handleSizeChange:w,handleCurrentChange:k,resetPagination:y}=K("/member",r),x=()=>{r.value={no:"",tel:"",name:""},y()};return(ee,o)=>{const s=F,i=G,u=J,S=q,f=$,n=I,T=Y,B=H,D=M,P=A,U=L,N=j;return m(),g(b,null,[e(f,null,{default:t(()=>[e(S,{gutter:20},{default:t(()=>[e(i,{span:6},{default:t(()=>[e(s,{modelValue:r.value.no,"onUpdate:modelValue":o[0]||(o[0]=a=>r.value.no=a),placeholder:"请输入会员卡号"},null,8,["modelValue"])]),_:1}),e(i,{span:6},{default:t(()=>[e(s,{modelValue:r.value.tel,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value.tel=a),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(i,{span:6},{default:t(()=>[e(s,{modelValue:r.value.name,"onUpdate:modelValue":o[2]||(o[2]=a=>r.value.name=a),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),e(i,{span:6},{default:t(()=>[e(u,{type:"primary",onClick:l(V)},{default:t(()=>[...o[5]||(o[5]=[c("查询",-1)])]),_:1},8,["onClick"]),e(u,{onClick:x},{default:t(()=>[...o[6]||(o[6]=[c("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{class:"mt"},{default:t(()=>[Q((m(),E(P,{data:l(v)},{default:t(()=>[e(n,{type:"index",label:"序号",width:"80"}),e(n,{prop:"memberCardNumber",label:"会员卡号"}),e(n,{prop:"cardType",label:"卡类型"}),e(n,{prop:"issueDate",label:"开卡日期"}),e(n,{prop:"holderName",label:"持有人姓名"}),e(n,{prop:"holderPhone",label:"持有人电话"}),e(n,{prop:"cardBalance",label:"卡余额"}),e(n,{prop:"transactionRecords",label:"消费记录"},{default:t(a=>[e(D,{placement:"top-start",title:"消费记录",width:260,trigger:"hover",content:"this is content, this is content, this is content"},{reference:t(()=>[e(u,null,{default:t(()=>[c(_(a.row.transactionDate)+"日消费",1)]),_:2},1024)]),default:t(()=>[e(B,{style:{"max-width":"600px"}},{default:t(()=>[(m(!0),g(b,null,W(a.row.transactionRecords,(d,R)=>(m(),E(T,{key:R,color:"#0bbd87",timestamp:d.transactionDate},{default:t(()=>[C("p",null,"消费金额："+_(d.transactionAmount),1),C("p",null,"消费类型："+_(d.transactionType),1)]),_:2},1032,["timestamp"]))),128))]),_:2},1024)]),_:2},1024)]),_:1}),e(n,{prop:"validUntil",label:"有效期至"})]),_:1},8,["data"])),[[N,l(h)]]),e(U,{class:"fr mt mb","current-page":l(p).page,"onUpdate:currentPage":o[3]||(o[3]=a=>l(p).page=a),"page-size":l(p).pageSize,"onUpdate:pageSize":o[4]||(o[4]=a=>l(p).pageSize=a),"page-sizes":[10,20,30,40],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:l(z),onSizeChange:l(w),onCurrentChange:l(k)},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])]),_:1})],64)}}});export{Pe as default};
