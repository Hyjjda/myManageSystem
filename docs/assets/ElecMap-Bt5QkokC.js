import"./base-B5CqxfD3.js";import{E as R,a as F}from"./el-col-BPPw4pF7.js";import{a as S,E as G}from"./el-form-item-BztwASWD.js";import{E as H}from"./el-button-p68fRgh3.js";import{E as O}from"./el-switch-CGjnhYdl.js";import{E as X}from"./el-input-BmUuJNkh.js";import{E as j}from"./el-card-DTTG7Cei.js";import{E as T}from"./el-text-9VpIYxdf.js";import{aI as _,aJ as q,e as P,H as J,aK as N,g as K,p as k,o as h,av as V,h as W,j as p,v as s,Y as w,z as f}from"./index-B3l0UY6M.js";import{a as E}from"./index-D14mK_8t.js";import"./typescript-Bp3YSIOJ.js";import"./event-rrv98atT.js";import"./use-form-common-props-BJzakiIG.js";import"./aria-B1-vW8EM.js";import"./index-BVnjknh5.js";const Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA3RJREFUWEfFl29olWUUwH8HTCapmwnOmqVzNcG5P+Fok8Yy7EOytU/VwsAyZfviUr9FCRpRgV8c6ZdFklnGxvowZGJi4B8GaUxo2u1DaneMTbZJbVdmrD9w8tz7Xvfee9/7vu/G5D7wwoV7nnN+5zznnOc8Qsilqk8AjUA9UA48BRQ42yeBIeA6cAnoFZHbYVRLkJCq1gJ7gWaTvTAG50aVsWkYnU7sXpkHhXnQtEqoWf5AY9d9wHYRuexnIyuAqi4ADgO7o1NwIgrdQ0ok5o+88TF4pUjYXgzFi+OyR4F9IvKf105PAFWtAE5EYlR23FC+isLdf4Nilfr/0kfgrWJofUYoy2cA2C4i19K1ZACoap2dYSRGfnNfsMdBWGX50FUXh7DYNYpIn3tPCoDj+aX5Mp40lAZR747EAwDnzPst7EGer3kU7HOvwXtgX7blgrDjqE7mhBvgSCTG7iDjBQth4lXv3F32nTL5TyiIoyLSZpJxTU6p/fhuv3LkN28FjUWJ7C5dApsLvWW6rROQqJbk73TJtlL4rDpudpOVaBKgMzpFc9UZ9cz2zSvg/EuBLSPF1os/KBfGM0GtOn7eKlaiXSLyhjgdbuTD+z3s4HX1dK3jOaHlaaj+Xrn6Z3Af6H9Z+PwmtP7kre9guXDAeikUGUAL0OGn3Ly3KMi33grTkXSbxL23KHgtS8hfGuIRbTWAb678wZu1Z7Mrn28As3x+i1gunTSAgQ8GtOKTSPbQ+gFYk/k6qvSOzOwPioBJvl8GH1fKNQOY2HVFC47dmj3AsRrhnRJ4vS8168MA7CyBL2pk0gC08aJy2uVBOopXBNo3CnvWJSSf7FGG/5pdBBqKoPcFYU4AH1UI+zfMGLQKisRmohAmAm6AWR/Bl7XCmsXEKyO5rPHYUdgKA+A+gjklYfNq6Hw+0ZzcxsMCuJNwTmX4aZXw3vpM42EB3GU4p0ZkiXlneibs7sQNOoL0RmTDpm8r9qqCplVwati7dIMAUlpxPGSqvpfRfHbCjMvIAbDJN+t1/PZasMzfcVkZnPK/jKw6krLHf8+U9byOHYisA4lNP4eeFV6zl0CI1TMM+65qxoTkmopSBxIHwMZw35Hs8UWwbok/wfjf8KvH6B44kjkQNo7nZihN+pXTsdwFkbuHiQsid0+zlK6Wq8dpeq4/rOf5/1pBL+HGxGXSAAAAAElFTkSuQmCC",z=""+new URL("station-Cf77LQol.jpg",import.meta.url).href;function D(){return _("/mapList")}function Y(b){return _("/submitMap",b)}var x={exports:{}},Q=x.exports,C;function $(){return C||(C=1,(function(b,m){(function(c,A){b.exports=A()})(Q,function(){function c(o){var l=[];return o.AMapUI&&l.push(A(o.AMapUI)),o.Loca&&l.push(y(o.Loca)),Promise.all(l)}function A(o){return new Promise(function(l,a){var i=[];if(o.plugins)for(var u=0;u<o.plugins.length;u+=1)n.AMapUI.plugins.indexOf(o.plugins[u])==-1&&i.push(o.plugins[u]);if(e.AMapUI===t.failed)a("前次请求 AMapUI 失败");else if(e.AMapUI===t.notload){e.AMapUI=t.loading,n.AMapUI.version=o.version||n.AMapUI.version,u=n.AMapUI.version;var v=document.body||document.head,r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/ui/"+u+"/main.js",r.onerror=function(d){e.AMapUI=t.failed,a("请求 AMapUI 失败")},r.onload=function(){if(e.AMapUI=t.loaded,i.length)window.AMapUI.loadUI(i,function(){for(var d=0,U=i.length;d<U;d++){var I=i[d].split("/").slice(-1)[0];window.AMapUI[I]=arguments[d]}for(l();g.AMapUI.length;)g.AMapUI.splice(0,1)[0]()});else for(l();g.AMapUI.length;)g.AMapUI.splice(0,1)[0]()},v.appendChild(r)}else e.AMapUI===t.loaded?o.version&&o.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):i.length?window.AMapUI.loadUI(i,function(){for(var d=0,U=i.length;d<U;d++){var I=i[d].split("/").slice(-1)[0];window.AMapUI[I]=arguments[d]}l()}):l():o.version&&o.version!==n.AMapUI.version?a("不允许多个版本 AMapUI 混用"):g.AMapUI.push(function(d){d?a(d):i.length?window.AMapUI.loadUI(i,function(){for(var U=0,I=i.length;U<I;U++){var B=i[U].split("/").slice(-1)[0];window.AMapUI[B]=arguments[U]}l()}):l()})})}function y(o){return new Promise(function(l,a){if(e.Loca===t.failed)a("前次请求 Loca 失败");else if(e.Loca===t.notload){e.Loca=t.loading,n.Loca.version=o.version||n.Loca.version;var i=n.Loca.version,u=n.AMap.version.startsWith("2"),v=i.startsWith("2");if(u&&!v||!u&&v)a("JSAPI 与 Loca 版本不对应！！");else{u=n.key,v=document.body||document.head;var r=document.createElement("script");r.type="text/javascript",r.src="https://webapi.amap.com/loca?v="+i+"&key="+u,r.onerror=function(d){e.Loca=t.failed,a("请求 AMapUI 失败")},r.onload=function(){for(e.Loca=t.loaded,l();g.Loca.length;)g.Loca.splice(0,1)[0]()},v.appendChild(r)}}else e.Loca===t.loaded?o.version&&o.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):l():o.version&&o.version!==n.Loca.version?a("不允许多个版本 Loca 混用"):g.Loca.push(function(d){d?a(d):a()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var t;(function(o){o.notload="notload",o.loading="loading",o.loaded="loaded",o.failed="failed"})(t||(t={}));var n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},e={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},g={AMapUI:[],Loca:[]},M=[],L=function(o){typeof o=="function"&&(e.AMap===t.loaded?o(window.AMap):M.push(o))};return{load:function(o){return new Promise(function(l,a){if(e.AMap==t.failed)a("");else if(e.AMap==t.notload){var i=o.key,u=o.version,v=o.plugins;i?(window.AMap&&location.host!=="lbs.amap.com"&&a("禁止多种API加载方式混用"),n.key=i,n.AMap.version=u||n.AMap.version,n.AMap.plugins=v||n.AMap.plugins,e.AMap=t.loading,u=document.body||document.head,window.___onAPILoaded=function(d){if(delete window.___onAPILoaded,d)e.AMap=t.failed,a(d);else for(e.AMap=t.loaded,c(o).then(function(){l(window.AMap)}).catch(a);M.length;)M.splice(0,1)[0]()},v=document.createElement("script"),v.type="text/javascript",v.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+n.AMap.version+"&key="+i+"&plugin="+n.AMap.plugins.join(","),v.onerror=function(d){e.AMap=t.failed,a(d)},u.appendChild(v)):a("请填写key")}else if(e.AMap==t.loaded)if(o.key&&o.key!==n.key)a("多个不一致的 key");else if(o.version&&o.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{if(i=[],o.plugins)for(u=0;u<o.plugins.length;u+=1)n.AMap.plugins.indexOf(o.plugins[u])==-1&&i.push(o.plugins[u]);i.length?window.AMap.plugin(i,function(){c(o).then(function(){l(window.AMap)}).catch(a)}):c(o).then(function(){l(window.AMap)}).catch(a)}else if(o.key&&o.key!==n.key)a("多个不一致的 key");else if(o.version&&o.version!==n.AMap.version)a("不允许多个版本 JSAPI 混用");else{var r=[];if(o.plugins)for(u=0;u<o.plugins.length;u+=1)n.AMap.plugins.indexOf(o.plugins[u])==-1&&r.push(o.plugins[u]);L(function(){r.length?window.AMap.plugin(r,function(){c(o).then(function(){l(window.AMap)}).catch(a)}):c(o).then(function(){l(window.AMap)}).catch(a)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,n={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},e={AMap:t.notload,AMapUI:t.notload,Loca:t.notload},g={AMap:[],AMapUI:[],Loca:[]}}}})})(x)),x.exports}var ee=$();const oe=q(ee),ne={id:"container"},te=P({__name:"MapContainer",setup(b){const m=k([]);let c=null;return J(()=>{oe.load({key:"612a653c5f66cd3cee94aba80b2a77c8",version:"1.4.15",plugins:["AMap.Scale"]}).then(A=>{c=new A.Map("container",{viewMode:"2D",zoom:5,center:[116.397428,39.90923]}),D().then(y=>{const t=new A.InfoWindow({anchor:"top-left",offset:new A.Pixel(16,-45)});m.value=y.data,m.value.forEach(n=>{const e=new A.Marker({position:n.position,icon:Z,title:n.title});e.on("click",()=>{t.setContent(`
              <div style='display:flex;padding:10px;align-item:center'>
                <div>
                  <img src='${z}' width='200px'/>
                </div>
                <div style='margin-left:20px;width:200px;line-height:30px'>
                <h3>${n.title}</h3>
                <p>数量：${n.count}</p>
                <p>状态：<span style='color:blue'>${n.status===1?"使用中":"维护中"}</span></p>
                </div>
              </div>
            `),t.open(c,e.getPosition())}),c.add(e)})})}).catch(A=>{console.log(A)})}),N(()=>{c?.destroy()}),(A,y)=>(h(),K("div",ne))}}),ae=V(te,[["__scopeId","data-v-5c3090d5"]]),ie=P({__name:"ElecMap",setup(b){const m=k({name:"",address:"",immdia:!1,content:""}),c={name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:20,message:"名称长度在 2 到 20 个字符",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"},{min:5,max:100,message:"地址长度在 5 到 30 个字符",trigger:"blur"}],content:[{required:!1},{max:200,message:"备注不能超过 200 个字符",trigger:"blur"}]},A=k(),y=()=>{A.value&&(m.value={name:"",address:"",immdia:!1,content:""})},t=async()=>{try{await A.value?.validate();const n=await Y(m.value);E({message:n.msg,type:"success"}),y()}catch{E({message:"请填写表单完整",type:"warning"})}};return(n,e)=>{const g=F,M=T,L=j,o=X,l=G,a=O,i=H,u=S,v=R;return h(),W(v,{gutter:20},{default:p(()=>[s(g,{span:18},{default:p(()=>[s(ae)]),_:1}),s(g,{span:6},{default:p(()=>[s(L,{class:"desc"},{header:p(()=>[...e[4]||(e[4]=[w("div",{class:"card-header"},[w("h3",null,"总体信息")],-1)])]),default:p(()=>[w("div",null,[e[6]||(e[6]=f("1.累计充电站数量：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[5]||(e[5]=[f("34个",-1)])]),_:1})]),w("div",null,[e[8]||(e[8]=f("2.单省份最多充电桩：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[7]||(e[7]=[f("北京(4个)",-1)])]),_:1})]),w("div",null,[e[10]||(e[10]=f("3.充电站遍及省份：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[9]||(e[9]=[f("14个",-1)])]),_:1})]),w("div",null,[e[12]||(e[12]=f("4.暂无充电站省份：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[11]||(e[11]=[f("22个",-1)])]),_:1})]),w("div",null,[e[14]||(e[14]=f("5.累计充电站：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[13]||(e[13]=[f("北京(4个)",-1)])]),_:1})]),w("div",null,[e[16]||(e[16]=f("6.单日营收最高：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[15]||(e[15]=[f("北京西单充电站",-1)])]),_:1})]),w("div",null,[e[18]||(e[18]=f("7.单日营收最低：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[17]||(e[17]=[f("南宁青秀山充电站",-1)])]),_:1})]),w("div",null,[e[20]||(e[20]=f("8.故障率最高：",-1)),s(M,{type:"primary"},{default:p(()=>[...e[19]||(e[19]=[f("兰州黄河桥充电站",-1)])]),_:1})])]),_:1}),s(L,{class:"mt"},{header:p(()=>[...e[21]||(e[21]=[w("div",{class:"card-header"},[w("h3",null,"新增站点")],-1)])]),default:p(()=>[s(u,{ref_key:"formRef",ref:A,rules:c,model:m.value,style:{"max-width":"600px"},"label-width":"85px"},{default:p(()=>[s(l,{label:"名称",prop:"name"},{default:p(()=>[s(o,{modelValue:m.value.name,"onUpdate:modelValue":e[0]||(e[0]=r=>m.value.name=r)},null,8,["modelValue"])]),_:1}),s(l,{label:"地址",prop:"address"},{default:p(()=>[s(o,{modelValue:m.value.address,"onUpdate:modelValue":e[1]||(e[1]=r=>m.value.address=r)},null,8,["modelValue"])]),_:1}),s(l,{label:"立即使用",prop:"now"},{default:p(()=>[s(a,{modelValue:m.value.immdia,"onUpdate:modelValue":e[2]||(e[2]=r=>m.value.immdia=r)},null,8,["modelValue"])]),_:1}),s(l,{label:"备注"},{default:p(()=>[s(o,{type:"textarea",modelValue:m.value.content,"onUpdate:modelValue":e[3]||(e[3]=r=>m.value.content=r)},null,8,["modelValue"])]),_:1}),s(l,null,{default:p(()=>[s(i,{type:"danger",onClick:y},{default:p(()=>[...e[22]||(e[22]=[f("清空内容",-1)])]),_:1}),s(i,{type:"primary",onClick:t},{default:p(()=>[...e[23]||(e[23]=[f("确认添加",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}}),ye=V(ie,[["__scopeId","data-v-0d73a692"]]);export{ye as default};
